<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>ニュース詳細 - 海軍省</title>
<style>
    body { padding: 20px; font-family: sans-serif; }
</style>
</head>
<body>

<div id="content">読み込み中...</div>

<script type="module" src="supabase.js"></script>
<script type="module">
import { supabase } from "./supabase.js";

const params = new URLSearchParams(location.search);
const id = params.get("id");

async function loadDetail() {
    const { data, error } = await supabase
        .from("news")
        .select("*")
        .eq("id", id)
        .single();

    const c = document.getElementById("content");

    if (error || !data) {
        c.innerHTML = "見つかりません";
        return;
    }

    c.innerHTML = `
        <h1>${data.title}</h1>
        <p><small>${data.created_at}</small></p>
        <p>${data.content}</p>
        <p><a href="news.html">← ニュース一覧に戻る</a></p>
    `;
}

loadDetail();
</script>
</body>
</html>
