<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>部員一覧 - 海軍省</title>
<style>
    body { padding: 20px; font-family: sans-serif;}
    .member {
        border-bottom: 1px solid #ccc;
        padding: 10px;
    }
</style>
</head>
<body>

<h1>部員一覧</h1>
<div id="members">読み込み中...</div>

<script type="module" src="supabase.js"></script>
<script type="module">
import { supabase } from "./supabase.js";

async function loadMembers() {
    const { data, error } = await supabase
        .from("members")
        .select("*")
        .order("id");

    const box = document.getElementById("members");

    if (error) {
        box.innerHTML = "読み込み失敗";
        return;
    }

    box.innerHTML = data.map(m => `
        <div class="member">
            <strong>${m.name}</strong><br>
            階級：${m.rank}<br>
            ${m.description}
        </div>
    `).join("");
}

loadMembers();
</script>
</body>
</html>
